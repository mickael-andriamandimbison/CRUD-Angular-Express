<div
  class="relative overflow-x-auto bg-[#042940] shadow-md rounded-lg border border-[#033049]"
>
  <table class="w-full text-sm text-left rtl:text-right text-gray-300">
    <thead
      class="text-xs text-white uppercase bg-[#042940] border-b border-[#033049]"
    >
      <tr>
        <th scope="col" class="px-6 py-3 font-medium">ID User</th>
        <th scope="col" class="px-6 py-3 font-medium">ID Entity</th>
        <th scope="col" class="px-6 py-3 font-medium">Actions</th>
      </tr>
    </thead>
    <tbody>
      @for(userEntity of userEntityStateService.userEntities(); track $index ){
      <tr class="bg-[#042940] border-b border-[#033049] hover:bg-[#033049]">
        <th
          scope="row"
          class="px-6 py-4 font-medium text-white whitespace-nowrap"
        >
          {{ userEntity.id_User }}
        </th>
        <td class="px-6 py-4">
          {{ userEntity.id_Entity }}
        </td>
        <td class="px-6 py-4">
          <div class="flex">
            <button
              data-modal-target="user-modal"
              data-modal-toggle="user-modal"
              type="button"
              class="text-green-400 bg-green-900/30 border border-green-700 hover:bg-green-700 hover:text-white focus:ring-4 focus:ring-green-800 font-medium leading-5 rounded-base text-xs px-3 py-1.5 focus:outline-none mr-2"
              (click)="getDetails(userEntity.id_userEntity)"
            >
              Detail
            </button>
            <button
              type="button"
              class="text-[#6A64F1] mr-2 bg-[#042940] border border-[#6A64F1] hover:bg-[#6A64F1] hover:text-white focus:ring-4 focus:ring-blue-900 font-medium leading-5 rounded-base text-xs px-3 py-1.5 focus:outline-none"
              (click)="navigToFom(userEntity.id_userEntity)"
            >
              Modifier
            </button>

            <button
              type="button"
              class="text-red-400 bg-red-900/30 border border-red-700 hover:bg-red-700 hover:text-white focus:ring-4 focus:ring-red-900 font-medium leading-5 rounded-base text-xs px-3 py-1.5 focus:outline-none"
              (click)="deleteUserEntity(userEntity.id_userEntity)"
            >
              Supprimer
            </button>
          </div>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>

<div
  id="user-modal"
  tabindex="-1"
  aria-hidden="true"
  class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"
>
  <div class="relative p-4 w-full max-w-2xl max-h-full">
    <div
      class="relative bg-neutral-primary-soft border border-user rounded-base shadow-sm p-4 md:p-6"
    >
      <div
        class="flex items-center justify-between border-b border-user pb-4 md:pb-5"
      >
        <h3 class="text-lg font-medium text-heading">Terms of Service</h3>
        <button
          type="button"
          class="text-body bg-transparent hover:bg-neutral-tertiary hover:text-heading rounded-base text-sm w-9 h-9 ms-auto inline-flex justify-center items-center"
          data-modal-hide="user-modal"
        >
          <svg
            class="w-5 h-5"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18 17.94 6M18 18 6.06 6"
            />
          </svg>
          <span class="sr-only">Close modal</span>
        </button>
      </div>
      <!-- Modal body -->
      <div class="space-y-4 md:space-y-6 py-4 md:py-6">
        <p class="leading-relaxed text-body">
          <b>Id user : </b>
          {{ userEntityStateService.selectedUserEntity()?.id_User }}
        </p>
        <p class="leading-relaxed text-body">
          <b>id User-Entity : </b>
          {{ userEntityStateService.selectedUserEntity()?.id_userEntity }}
        </p>

        <p class="leading-relaxed text-body">
          <b>Id entity : </b>
          {{ userEntityStateService.selectedUserEntity()?.id_Entity }}
        </p>
      </div>
    </div>
  </div>
</div>
