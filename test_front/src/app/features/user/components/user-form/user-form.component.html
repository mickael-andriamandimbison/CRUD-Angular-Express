<form class="max-w-sm mx-auto" [formGroup]="userForm">
  <div class="mb-5">
    <div class="mb-5">
      <label
        for="nom"
        class="block mb-2.5 text-sm text-white font-medium text-heading"
        >votre nom</label
      >
      <input
        formControlName="username"
        type="nom"
        id="nom"
        class="bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-base focus:ring-brand focus:border-brand block w-full px-3 py-2.5 shadow-xs placeholder:text-body"
        placeholder="Ruta mickael"
        required
      />
      @if ( userForm.get('username')?.touched &&
      userForm.get('username')?.hasError('required') ) {
      <p class="mt-1 text-sm text-red-400 flex items-center gap-1">
        <span class="font-medium">⚠</span>
        Le nom d’utilisateur est obligatoire
      </p>
      }
    </div>
    <label
      for="email"
      class="block mb-2.5 text-sm text-white font-medium text-heading"
      >votre email</label
    >
    <input
      formControlName="email"
      type="email"
      id="email"
      class="bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-base focus:ring-brand focus:border-brand block w-full px-3 py-2.5 shadow-xs placeholder:text-body"
      placeholder="name@flowbite.com"
      required
    />
    @if ( userForm.get('email')?.touched &&
    userForm.get('email')?.hasError('required') ) {
    <p class="mt-1 text-sm text-red-400 flex items-center gap-1">
      <span class="font-medium">⚠</span>
      Email est obligatoire
    </p>
    } @else if ( userForm.get('email')?.touched &&
    userForm.get('email')?.hasError('email') ) {
    <p class="mt-1 text-sm text-red-400 flex items-center gap-1">
      <span class="font-medium">⚠</span>
      Email non valide
    </p>
    }
  </div>
  <div class="mb-5">
    <label
      for="password"
      class="block mb-2.5 text-sm text-white font-medium text-heading"
      >votre mot de passe</label
    >
    <input
      formControlName="password"
      type="password"
      id="password"
      class="bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-base focus:ring-brand focus:border-brand block w-full px-3 py-2.5 shadow-xs placeholder:text-body"
      placeholder="••••••••"
      required
    />
    @if ( userForm.get('password')?.touched &&
    userForm.get('password')?.hasError('required') ) {
    <p class="mt-1 text-sm text-red-400 flex items-center gap-1">
      <span class="font-medium">⚠</span>
      mot de passe est obligatoire
    </p>
    } @else if ( userForm.get('password')?.touched &&
    userForm.get('password')?.hasError('minlength') ) {
    <p class="mt-1 text-sm text-red-400 flex items-center gap-1">
      <span class="font-medium">⚠</span>
      Utiliser au moins 8 caractere
    </p>
    }
  </div>

  <button
    type="submit"
    class="text-white bg-brand box-border border border-transparent hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium shadow-xs font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none"
    (click)="isUpdate ? updateUser() : addUser()"
  >
    {{ isUpdate ? "Modifier" : "Ajouter" }}
  </button>
</form>
